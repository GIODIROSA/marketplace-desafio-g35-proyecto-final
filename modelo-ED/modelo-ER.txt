CREATE DATABASE libros;

CREATE TABLE productos(
    producto_id SERIAL PRIMARY KEY,
    producto_nombre VARCHAR(50) NOT NULL,
	producto_imagen VARCHAR (255) NOT NULL,
    producto_descripcion VARCHAR (250) NOT NULL,
    producto_precio INTEGER NOT NULL,
	producto_categoria VARCHAR(255),
	producto_autores VARCHAR (50) NOT NULL,
    producto_stock INT NOT NULL,
    producto_estado BOOLEAN NOT NULL
);

CREATE TABLE usuarios(
    usuario_id SERIAL PRIMARY KEY,
    usuario_nombre VARCHAR(50) NOT NULL,
    usuario_apellido VARCHAR (50) NOT NULL,
    usuario_direccion VARCHAR (90) NOT NULL,
    usuario_email VARCHAR (100) NOT NULL,
    usuario_contrasenna VARCHAR (255) NOT NULL,
    usuario_rol VARCHAR(50) NOT NULL
);

CREATE TABLE pedido(
    pedido_id SERIAL PRIMARY KEY,
    pedido_fecha TIMESTAMP NOT NULL,
    pedido_medio_pago VARCHAR (255) NOT NULL,
    pedido_total INTEGER NOT NULL,
    usuario_id INTEGER NOT NULL,
    FOREIGN KEY (usuario_id) REFERENCES usuarios(usuario_id),
    pedido_estado BOOLEAN NOT NULL
);


CREATE TABLE detalle_pedido(
    detalle_id SERIAL PRIMARY KEY,
    detalle_cantidad INTEGER DEFAULT 0 NOT NULL,
    detalle_total INTEGER DEFAULT 0 NOT NULL
    producto_id INTEGER NOT NULL,
    FOREIGN KEY (producto_id) REFERENCES productos(producto_id),
    producto_precio INTEGER NOT NULL,
    FOREIGN KEY (producto_precio) REFERENCES productos(producto_precio),
);
